<!DOCTYPE html>
<html lang="en-us">
 <head>
    <meta charset="UTF-8">
   <title>New York Times Search</title>

   <!-- Stylesheets -->
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
   crossorigin="anonymous">
   <link rel="stylesheet" href="assets/css/style.css">
   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">


 </head>
 
 <body>
 
 <!-- Page Title Box -->
 <div class= "containter jumbotron titlebox">
   <div class="container">
       
     <h1><i class="far fa-newspaper"></i> New York Times Search</h1>
     
   </div>
 </div>
     

    <div class="row">
        <div class="col-sm-12">
        <br>
            <!-- Box with search fields -->
            <div class="container">
                <h3><strong><i class="fa  fa-list-alt"></i>   Search Parameters</strong></h3>    
            </div>

                    <!-- Search Form-->
                    <form class="container">

                      <div class="form-group">
                        <label for="search">Search Term:</label>
                        <input type="text" class="form-control" id="searchTerm">
                      </div>

                      <!-- Article number  -->
                      <div class="form-group">
                        <label for="pwd">Number of Records to Retrieve:</label>
                        <select class="form-control" id="numRecordsSelect">
                            <option value=1>1</option>
             
             <!--5 as default -->
                            <option value=5 selected>5</option>
                            <option value=10>10</option>
                        </select>              
                      </div>

                        <!-- Start Year-->
                      <div class="form-group">
                        <label for="startYear">Start Year (Optional):</label>
                        <input type="text" class="form-control" id="startYear">
                      </div>

                        <!-- End Year -->
                      <div class="form-group">
                        <label for="endYear">End Year (Optional):</label>
                        <input type="text" class="form-control" id="endYear">
                      </div>

                      <!-- Submit Buttons -->
                      <button type="submit" class="btn " id="runSearch"><i class="fa fa-search"></i> Search</button>
                      <button type="button" class="btn " id="clearAll"><i class="fa fa-trash"></i> Clear Results</button>

                    </form>
                </div>
            </div>
    <!-- Search Articles-->
    <div class="row">
        <div class="col-sm-12">
        <br>
            
            <div class="container">
                <div>
                    <h3><strong><i class="fa fa-table"></i>   Top Articles</strong></h3>
                </div>
            </div>
        </div>
    </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
      $(document).ready(function() {

        $(".container").on("click", "#runSearch", function(evt) {
        evt.preventDefault();
        var searchTerm = $("#searchTerm").val().trim();
        var startYr = $("#startYear").val().trim();
        var endYr = $("#endYear").val().trim();
        

      var APIKey = "c3a12d822e45474ba56cad8bf2d2b534";
      var URL ="http://api.nytimes.com/svc/search/v2/articlesearch.json?q="+searchTerm+"&page=2&sort=oldest&api-key="+APIKey;

      //var workingURL = "http://api.nytimes.com/svc/search/v2/articlesearch.json?q=microsoft&page=2&sort=oldest&api-key=c3a12d822e45474ba56cad8bf2d2b534";
        
      console.log(URL);
      //alert(URL);
      // Here we run our AJAX call to the OpenWeatherMap API
      $.ajax({
        url: URL,
        method: "GET"
      })
        // We store all of the retrieved data inside of an object called "response"
        .then(function(response) {

          // Log the queryURL
          console.log(URL);

          // Log the resulting object
          console.log(response);
        });
      });

    });

</script>
 </body>

 
</html>